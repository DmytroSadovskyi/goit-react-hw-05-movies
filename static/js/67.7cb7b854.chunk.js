"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[67],{5130:function(e,n,t){var r=t(1087),a=t(7689),o=t(184);n.Z=function(e){var n=e.movies,t=(0,a.TH)();return(0,o.jsx)("ul",{children:n.map((function(e){var n=e.poster_path,a=e.title,c=e.id;return(0,o.jsx)("li",{children:(0,o.jsxs)(r.rU,{to:"/movies/".concat(c),state:{from:t},children:[(0,o.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w500".concat(n):"https://dummyimage.com/500x400/ff6b08/fff.jpg&text=Opps,+no+image...",alt:a,width:"150",height:"200"}),(0,o.jsx)("p",{children:a})]})},c)}))})}},9593:function(e,n,t){t.d(n,{Z:function(){return p}});var r,a=t(168),o=t(7402),c=t(6048),u=t.n(c),s=(0,o.Z)(u())(r||(r=(0,a.Z)(["\n  display: flex;\n  flex-wrap: nowrap;\n\n  color: blue;\n  justify-content: center;\n  align-items: center;\n  list-style: none;\n  gap: 5px;\n\n  .previous {\n    padding: 5px;\n    background-color: gainsboro;\n    border-radius: 5px;\n    cursor: pointer;\n  }\n\n  .next {\n    padding: 5px;\n    background-color: gainsboro;\n    border-radius: 5px;\n    cursor: pointer;\n  }\n\n  .page {\n    padding: 5px 10px;\n    background-color: gainsboro;\n    border-radius: 5px;\n    cursor: pointer;\n  }\n\n  .active {\n    background-color: blue;\n    color: white;\n  }\n"]))),i=t(184),p=function(e){var n=e.pageCount,t=e.onPageChange;return(0,i.jsx)(s,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:n,onPageChange:t,renderOnZeroPageCount:null,containerClassName:"pagination",pageClassName:"page",activeClassName:"active",pageRangeDisplayed:3,marginPagesDisplayed:3})}},6067:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(5861),a=t(9439),o=t(4687),c=t.n(o),u=t(2791),s=t(1087),i=t(184),p=function(e){var n=e.onSubmit;return(0,i.jsxs)("form",{onSubmit:n,children:[(0,i.jsx)("button",{type:"submit","aria-label":"search",children:"Search"}),(0,i.jsx)("input",{name:"query",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"})]})},l=t(9593),f=t(1362),d=t(5130),g=t(4430),h=function(){var e,n=(0,u.useState)(1),t=(0,a.Z)(n,2),o=t[0],h=t[1],v=(0,u.useState)(0),m=(0,a.Z)(v,2),x=m[0],b=m[1],y=(0,u.useState)([]),k=(0,a.Z)(y,2),Z=k[0],w=k[1],j=(0,u.useState)(!1),C=(0,a.Z)(j,2),S=C[0],_=C[1],P=(0,u.useState)(0),q=(0,a.Z)(P,2),N=q[0],L=q[1],U=(0,u.useState)(null),D=(0,a.Z)(U,2),F=D[0],E=D[1],O=(0,s.lr)(),R=(0,a.Z)(O,2),T=R[0],H=R[1],V=null!==(e=T.get("query"))&&void 0!==e?e:"";(0,u.useEffect)((function(){if(V){var e=function(){var e=(0,r.Z)(c().mark((function e(n,t){var r,a,o,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,(0,g.Pv)(n,t);case 4:r=e.sent,a=r.results,o=r.total_pages,u=r.total_results,w(a),b(o),L(u),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),E("Error while loading data. Try again later.");case 16:return e.prev=16,_(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(n,t){return e.apply(this,arguments)}}();e(o,V)}}),[o,V]);return(0,i.jsx)("main",{children:F?(0,i.jsx)("p",{children:F}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p,{onSubmit:function(e){e.preventDefault();var n=e.target.query.value;n?(H({query:n}),h(1),e.target.reset()):alert("Please type something")}}),S&&(0,i.jsx)(f.Z,{}),0===N&&V&&!F?(0,i.jsx)("h2",{children:"No results found"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{movies:Z}),(0,i.jsx)(l.Z,{pageCount:x,onPageChange:function(e){var n=e.selected;h(n+1);var t=20*n,r=t+20;w(Z.slice(t,r))}})]})]})})}},4430:function(e,n,t){t.d(n,{Pv:function(){return l},Y5:function(){return d},uV:function(){return h},wr:function(){return i}});var r=t(5861),a=t(4687),o=t.n(a),c=t(1243),u="https://api.themoviedb.org/3/",s="92d66af10495782dbf7116658cb2e14f";function i(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(u,"trending/movie/week?api_key=").concat(s,"&language=en-US&page=").concat(n),e.next=4,c.Z.get(t);case 4:return r=e.sent,console.log(r.data.results),e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(e,n){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(o().mark((function e(n,t){var r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new URLSearchParams({api_key:"92d66af10495782dbf7116658cb2e14f",query:t,page:n,include_adult:!1}),a="".concat(u,"search/movie?").concat(r),e.next=5,c.Z.get(a);case 5:return s=e.sent,e.abrupt("return",s.data);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function d(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(u,"movie/").concat(n,"?api_key=").concat(s),e.next=4,c.Z.get(t);case 4:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(u,"movie/").concat(n,"/credits?api_key=").concat(s,"&language=en-US"),e.next=4,c.Z.get(t);case 4:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=67.7cb7b854.chunk.js.map