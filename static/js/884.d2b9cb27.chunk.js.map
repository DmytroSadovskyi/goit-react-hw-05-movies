{"version":3,"file":"static/js/884.d2b9cb27.chunk.js","mappings":"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","sources":["pages/MovieDetails.jsx","services/movie-api.jsx"],"sourcesContent":["import { Link, Outlet, useParams, useLocation } from 'react-router-dom';\nimport { fetchMovieDetails } from 'services/movie-api';\nimport { useState, useEffect, useRef } from 'react';\nimport Loader from 'components/Loader/Loader';\n\nconst MovieDetails = () => {\n  const { Id } = useParams();\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n  const [movieInfo, setMovieInfo] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const loadMovieDetails = async () => {\n      try {\n        setIsLoading(true);\n        const result = await fetchMovieDetails(Id);\n        setMovieInfo(result);\n      } catch (error) {\n        setError('Error while loading data. Try again later.');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    loadMovieDetails();\n  }, [Id]);\n\n  const { title, release_date, poster_path, vote_average, overview } =\n    movieInfo;\n\n  return (\n    <div>\n      <Link to={backLinkLocationRef.current}>Go Back</Link>\n      {error ? (\n        <p>{error}</p>\n      ) : (\n        <>\n          {isLoading && <Loader />}\n          <h1>\n            {title}(\n            {release_date?.slice(0, 4) ? release_date?.slice(0, 4) : 'Unknown'})\n          </h1>\n          <img\n            src={\n              poster_path\n                ? `https://image.tmdb.org/t/p/w500${poster_path}`\n                : 'https://dummyimage.com/500x400/ff6b08/fff.jpg&text=Opps,+no+image...'\n            }\n            alt={title}\n            width=\"150\"\n            height=\"200\"\n          />\n          <span>User score{Math.round(vote_average * 10)}%</span>\n          <h2>Overview</h2>\n          <p>{overview}</p>\n          <Link to=\"cast\">Cast</Link>\n          <Link to=\"reviews\">Reviews</Link>\n          <Outlet />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '92d66af10495782dbf7116658cb2e14f';\n\nexport async function fetchTrendingMovies(page) {\n  try {\n    const url = `${BASE_URL}trending/movie/week?api_key=${API_KEY}&language=en-US&page=${page}`;\n\n    const response = await axios.get(url);\n    console.log(response.data.results);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function fetchMoviesByName(page, query) {\n  try {\n    const searchParams = new URLSearchParams({\n      api_key: '92d66af10495782dbf7116658cb2e14f',\n      query: query,\n      page: page,\n      include_adult: false,\n    });\n    const url = `${BASE_URL}search/movie?${searchParams}`;\n    const response = await axios.get(url);\n\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function fetchMovieDetails(id) {\n  try {\n    const url = `${BASE_URL}movie/${id}?api_key=${API_KEY}`;\n    const response = await axios.get(url);\n    console.log(response);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function fetchMovieCast(id) {\n  try {\n    const url = `${BASE_URL}movie/${id}/credits?api_key=${API_KEY}&language=en-US`;\n    const response = await axios.get(url);\n    console.log(response);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function fetchMovieReviews(id) {\n  try {\n    const url = `${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}&language=en-US`;\n    const response = await axios.get(url);\n    console.log(response);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["Id","useParams","location","useLocation","backLinkLocationRef","useRef","state","from","useState","movieInfo","setMovieInfo","isLoading","setIsLoading","error","setError","useEffect","loadMovieDetails","fetchMovieDetails","result","title","release_date","poster_path","vote_average","overview","to","current","slice","src","alt","width","height","Math","round","BASE_URL","API_KEY","fetchTrendingMovies","page","url","axios","response","console","log","data","results","fetchMoviesByName","query","searchParams","URLSearchParams","api_key","include_adult","id","fetchMovieCast","fetchMovieReviews"],"sourceRoot":""}